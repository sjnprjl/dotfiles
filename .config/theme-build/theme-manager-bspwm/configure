#!/usr/bin/env bash
. $HOME/.config/theme-manager-bspwm/scripts/utils
ps=(`ls /sys/class/power_supply`)
bl=$(ls /sys/class/backlight )
sep() {
    echo "================================="
}

set_backlight_card() {
    echo "[笨余 Configuring backlight card."
    sub_val BACKLIGHT_CARD $bl 
    echo "泓ｹ Backlight card configured. "
}
set_battery_adapter() {
    echo "[笨余 Configuring battery adapter."
    sub_val BAT_ADAPTER ${ps[0]} 
    echo "泓ｹ Battery adapter configured. "
}

set_battery() {
    echo "[笨余 Configuring battery."
    sub_val BATTERY ${ps[1]}
    echo "泓ｹ Battery configured. "
}
set_wifi_module() {
echo "[笨余 Configuring wifi module."
IFACE=$(ip link | awk '/state UP/ {print $2}' | tr -d :)
if [[ "$IFACE" ]]; then
    sub_val NET_INTERFACE $IFACE
    echo "泓ｹ Wifi Module configured. "
fi
}

set_battery
sep
set_battery_adapter
sep
set_backlight_card
sep 
set_wifi_module
